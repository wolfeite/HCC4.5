{% extends "web/template.html" %}
{% block optDataForm %}
    {% from "templates/input.html" import hides,text,textarea ,file_img,file_video %}
    {{ text(label="年份：",placeholder="示例：2020", name="year") }}
    {{ text(label="日期：",placeholder="示例：01-01", name="date" ) }}
    {{ textarea(label="说明：",name="info",cols=50,rows=10 ) }}
    {{ file_img(label="图片：",placeholder="请选择图片", name="ImagePath" ) }}
    {{ file_video(label="视频：",placeholder="请选择视频", name="VideoPath" ) }}
{% endblock %}
{% block optJs %}
    <script>
        combine([

            {name: "year", type: "text", width: 50, align: "center", title: "年份"},
            {name: "date", type: "text", width: 50, align: "center", title: "日期"},
            {name: "info", type: "text", width: 250, align: "center", title: "说明"},
            {
                name: "ImagePath", type: "text", width: 100, align: "center", title: "图片",
                itemTemplate: function (value, item) {
                    return value ? '<img src="' + $.url_for("image/" + value) + '" alt="" style="height:80px;">' : "无"
                }
            },
            {
                name: "VideoPath", type: "text", width: 100, align: "center", title: "视频",
                itemTemplate: function (value, item) {
                    return value ? '<video src="' + $.url_for("video/" + value) + '" controls="controls" style="width:100%;height:80px;"></video>' : "无"
                }
            }
        ])
    </script>
{% endblock %}